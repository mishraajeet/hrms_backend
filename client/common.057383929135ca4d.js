"use strict";(self.webpackChunkmagnet_frontend=self.webpackChunkmagnet_frontend||[]).push([[592],{9527:(p,l,t)=>{t.d(l,{KZ:()=>u,Pn:()=>A,W5:()=>v,cg:()=>P,h8:()=>a,he:()=>S});var s=t(4221);const a=(0,s.PH)("[Login Page] login start",(0,s.Ky)()),S=(0,s.PH)("[Login Page] login success",(0,s.Ky)()),u=(0,s.PH)("[Login Page] login fail",(0,s.Ky)()),v=(0,s.PH)("[password page] set password start",(0,s.Ky)()),P=(0,s.PH)("[password page] set password success",(0,s.Ky)()),A=(0,s.PH)("[password page] set password fail",(0,s.Ky)())},4752:(p,l,t)=>{t.d(l,{s:()=>L});var s=t(2096),i=t(9397),r=t(6465),e=t(9527),g=t(7634),f=t(7398),o=t(6306),a=t(3519),S=t.n(a),u=t(5879),v=t(13);let P=(()=>{class n{constructor(c){this.rest=c,this.api="api/user/"}login(c={}){return this.rest.post(`${this.api}login`,c)}setPassword(c={}){return this.rest.post(`${this.api}setPassword`,c)}}return n.\u0275fac=function(c){return new(c||n)(u.LFG(v.v))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=t(5961);let L=(()=>{class n{constructor(c,K,O){this.actions$=c,this.authSrv=K,this.router=O,this.login$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(e.h8),(0,g.z)(h=>this.authSrv.login(h).pipe((0,f.U)(d=>e.he(d)),(0,o.K)(d=>(0,s.of)(e.KZ(d.error))))))),this.loginRedirect$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(e.he),(0,i.b)(h=>{this.router.navigate(["/register-reseller"])})),{dispatch:!1}),this.loginErrorMessage$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(e.KZ),(0,i.b)(h=>{S().fire("Oops...",h.message,"error")})),{dispatch:!1}),this.setPassword$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(e.W5),(0,g.z)(h=>this.authSrv.setPassword(h).pipe((0,f.U)(d=>e.cg(d)),(0,o.K)(d=>(0,s.of)(e.Pn(d.error))))))),this.setPasswordSuccess$=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(e.cg),(0,i.b)(h=>{S().fire(h.message)})),{dispatch:!1})}}return n.\u0275fac=function(c){return new(c||n)(u.LFG(r.eX),u.LFG(P),u.LFG(A.F0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},205:(p,l,t)=>{t.d(l,{l:()=>g,q:()=>f});var s=t(4221),r=t(9527);const e=(0,s.Lq)({user:null},(0,s.on)(r.he,(o,a)=>(localStorage.setItem("userInfo",JSON.stringify(a)),{...o,user:a})),(0,s.on)(r.KZ,(o,a)=>({...o,user:a})),(0,s.on)(r.cg,(o,a)=>({...o,user:a})));function g(o,a){return e(o,a)}const f=o=>({user:o.user})},4796:(p,l,t)=>{t.d(l,{a:()=>r});var s=t(4221),i=t(205);const r="auth",e=(0,s.ZF)(r);(0,s.P1)(e,i.q)}}]);