"use strict";(self.webpackChunkmagnet_frontend=self.webpackChunkmagnet_frontend||[]).push([[82],{4082:(P,c,s)=>{s.r(c),s.d(c,{RegisterResellerModule:()=>K});var m=s(6814),o=s(95),d=s(6465),Z=s(2096),T=s(7634),h=s(7398),R=s(6306),y=s(9397),a=s(4221);const p=(0,a.PH)("[registration page] registration start",(0,a.Ky)()),g=(0,a.PH)("[registration page] registration start success",(0,a.Ky)()),C=(0,a.PH)("[registration page] registration start fail",(0,a.Ky)());var _=s(3519),N=s.n(_),e=s(5879),I=s(13);let f=(()=>{class t{constructor(r){this.rest=r,this.api="api/user/"}register(r={}){return this.rest.post(`${this.api}signup`,r)}uploadLogo(r={}){return this.rest.post("company_logo",r)}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(I.v))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),x=(()=>{class t{constructor(r,i){this.actions$=r,this.reg_ser=i,this.createTask$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(p),(0,T.z)(l=>this.reg_ser.register(l).pipe((0,h.U)(u=>g(u)),(0,R.K)(u=>(0,Z.of)(C(u))))))),this.regUSerSuccess$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(g),(0,y.b)(l=>{N().fire("User is successfully registered.")})),{dispatch:!1})}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(d.eX),e.LFG(f))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var v=s(5961),S=s(8645);function b(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"invitation Code is required"),e.qZA())}function F(t,n){if(1&t&&(e.TgZ(0,"div",43),e.YNc(1,b,2,0,"div",44),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.invitationCode.errors.required)}}function J(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"userType is required"),e.qZA())}function E(t,n){if(1&t&&(e.TgZ(0,"div",43),e.YNc(1,J,2,0,"div",44),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.userType.errors.required)}}function Y(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"User Name is required"),e.qZA())}function G(t,n){if(1&t&&(e.TgZ(0,"div",43),e.YNc(1,Y,2,0,"div",44),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.userName.errors.required)}}function Q(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"GstNo is required"),e.qZA())}function L(t,n){if(1&t&&(e.TgZ(0,"div",43),e.YNc(1,Q,2,0,"div",44),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.GstNo.errors.required)}}function k(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Company Name is required"),e.qZA())}function B(t,n){if(1&t&&(e.TgZ(0,"div",43),e.YNc(1,k,2,0,"div",44),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.companyName.errors.required)}}function M(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"email is required"),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"div",43),e.YNc(1,M,2,0,"div",44),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.email.errors.required)}}const w=function(t){return{"is-invalid":t}},z=[{path:"",component:(()=>{class t{constructor(r,i,l){this._formBuilder=r,this.store=i,this.regSrv=l,this.isSubmitted=!1,this.selectedFile=null,this.destroy$=new S.x}ngOnInit(){this.userInfo=localStorage.getItem("userInfo"),this.userInfo=JSON.parse(this.userInfo),console.log(this.userInfo),this.createForm()}createForm(){this.registrationForm=this._formBuilder.group({email:["",[o.kI.required,o.kI.email]],invitationCode:[this.userInfo.invitationCode],contactInfo:this._formBuilder.group({countryCode:["+91",[o.kI.required]],phoneNo:["",[o.kI.required]]}),address:this._formBuilder.group({address1:["",[o.kI.required]],address2:["",[o.kI.required]],country:["",[o.kI.required]],state:["",[o.kI.required]],city:["",[o.kI.required]],pincode:["",[o.kI.required]]}),userType:["",[o.kI.required]],GstNo:["",[o.kI.required]],companyName:["",[o.kI.required]],orgLogo:[""],userName:["",[o.kI.required]],referedUserType:[this.userInfo.role],referedUserId:[this.userInfo.id]})}get f(){return this.registrationForm.controls}onSubmit(){this.isSubmitted=!0,!this.registrationForm.invalid&&this.store.dispatch(p(this.registrationForm.value))}processFile(r){this.selectedFile=r.target.files[0];const i=new FormData;i.append("image",this.selectedFile,this.selectedFile.name),this.regSrv.uploadLogo(i).subscribe(l=>{this.registrationForm.patchValue({orgLogo:l.imageUrl}),console.log("res",l)})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(a.yh),e.Y36(f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register-reseller"]],decls:130,vars:10,consts:[[1,"bg-light","lter","b-b","wrapper-md"],[1,"row"],[1,"col-sm-6","col-xs-12"],[1,"m-n","font-thin","h3","text-black"],[1,"text-muted"],[1,"app-content-body"],[3,"formGroup","ngSubmit"],["ng-controller","FormDemoCtrl",1,"wrapper-md"],[1,"col-sm-12"],[1,"panel","panel-default"],[1,"panel-body"],[1,"col-md-6","form-group"],["type","text","readonly","","placeholder","Enter","formControlName","invitationCode",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","radio","id","userType1","name","userType","value","Reseller","formControlName","userType"],["for","html"],["type","radio","id","userType2","name","userType","value","Company","placeholder","Enter","formControlName","userType"],[1,"col-md-6"],[1,"col-md-12","form-group"],["type","text","placeholder","Enter ","formControlName","userName",1,"form-control"],["type","text","placeholder","Enter ","formControlName","GstNo",1,"form-control"],["formGroupName","contactInfo",1,"col-md-12","form-group"],[1,"input-group"],[1,"input-group-addon"],["type","text","placeholder","Enter ","formControlName","phoneNo","maxlength","10","minlength","10",1,"form-control"],["type","text","placeholder","Enter ","formControlName","companyName",1,"form-control"],["type","text","placeholder","Enter ","id","","formControlName","email",1,"form-control"],["type","file","accept","image/*",1,"form-control",3,"change"],["imageInput",""],["id","","formGroupName","address",1,"col-md-12"],[1,"bTop"],[1,"col-md-12"],["type","text","rows","3.5","formControlName","address1","placeholder","Enter","id","",1,"form-control"],["formControlName","country",1,"form-control"],["value",""],["value","India"],["formControlName","state",1,"form-control"],["value","Uttar Pradesh"],["type","text","rows","3.5","formControlName","address2","placeholder","Enter","id","",1,"form-control"],["formControlName","city",1,"form-control"],["value","lko"],["type","text","placeholder","Enter ","formControlName","pincode","maxlength","6","minlength","6",1,"form-control"],["type","submit","name","submit","value","Submit",1,"btn","m-b-xs","w-sm","btn-success"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Create Reseller/Company"),e.qZA(),e.TgZ(5,"small",4),e._uU(6,"Please Fill all the necessary details"),e.qZA()()()(),e.TgZ(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(9,"div",7)(10,"div",1)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"label"),e._uU(16,"User Referral Code "),e.qZA(),e._UZ(17,"input",12),e.YNc(18,F,2,1,"div",13),e.qZA(),e.TgZ(19,"div",11)(20,"label"),e._uU(21," User Type "),e.qZA(),e._UZ(22,"br")(23,"input",14),e.TgZ(24,"label",15),e._uU(25,"Reseller"),e.qZA(),e._UZ(26,"br")(27,"input",16),e.TgZ(28,"label",15),e._uU(29,"Company"),e.qZA(),e.YNc(30,E,2,1,"div",13),e.qZA()()()()(),e.TgZ(31,"div",1)(32,"div",8)(33,"div",9)(34,"div",10)(35,"div",17)(36,"div",1)(37,"div",18)(38,"label"),e._uU(39,"User Name"),e.qZA(),e._UZ(40,"input",19),e.YNc(41,G,2,1,"div",13),e.qZA()(),e.TgZ(42,"div",1)(43,"div",18)(44,"label"),e._uU(45," GST No."),e.qZA(),e._UZ(46,"input",20),e.YNc(47,L,2,1,"div",13),e.qZA()(),e.TgZ(48,"div",1)(49,"div",21)(50,"label"),e._uU(51," Mobile "),e.qZA(),e.TgZ(52,"div",22)(53,"span",23),e._uU(54,"+91 "),e.qZA(),e._UZ(55,"input",24),e.qZA()()()(),e.TgZ(56,"div",17)(57,"div",1)(58,"div",18)(59,"label"),e._uU(60," Organization Name"),e.qZA(),e._UZ(61,"input",25),e.YNc(62,B,2,1,"div",13),e.qZA()(),e.TgZ(63,"div",1)(64,"div",18)(65,"label"),e._uU(66,"Email "),e.qZA(),e._UZ(67,"input",26),e.YNc(68,O,2,1,"div",13),e.qZA()(),e.TgZ(69,"div",1)(70,"div",18)(71,"label"),e._uU(72,"Organization Logo"),e.qZA(),e.TgZ(73,"input",27,28),e.NdJ("change",function(u){return i.processFile(u)}),e.qZA()()()(),e.TgZ(75,"div",1)(76,"div",29),e._UZ(77,"div",30),e.TgZ(78,"div",31)(79,"div",1)(80,"div",31)(81,"h4"),e._uU(82,"Billing Information"),e.qZA()()()(),e.TgZ(83,"div",17)(84,"div",1)(85,"div",18)(86,"label"),e._uU(87," Address Line 1"),e.qZA(),e._UZ(88,"textarea",32),e.qZA()(),e.TgZ(89,"div",1)(90,"div",18)(91,"label"),e._uU(92,"Country "),e.qZA(),e.TgZ(93,"select",33)(94,"option",34),e._uU(95," Select Country"),e.qZA(),e.TgZ(96,"option",35),e._uU(97,"India"),e.qZA()()()(),e.TgZ(98,"div",1)(99,"div",18)(100,"label"),e._uU(101,"State "),e.qZA(),e.TgZ(102,"select",36)(103,"option",34),e._uU(104," Select State"),e.qZA(),e.TgZ(105,"option",37),e._uU(106," Uttar Pradesh "),e.qZA()()()()(),e.TgZ(107,"div",17)(108,"div",1)(109,"div",18)(110,"label"),e._uU(111," Address Line 2"),e.qZA(),e._UZ(112,"textarea",38),e.qZA()(),e.TgZ(113,"div",1)(114,"div",18)(115,"label"),e._uU(116,"City "),e.qZA(),e.TgZ(117,"select",39)(118,"option"),e._uU(119," Select City"),e.qZA(),e.TgZ(120,"option",40),e._uU(121," lko "),e.qZA()()()(),e.TgZ(122,"div",1)(123,"div",18)(124,"label"),e._uU(125," Zip Code "),e.qZA(),e._UZ(126,"input",41),e.qZA()()()()(),e.TgZ(127,"div",1)(128,"div",31),e._UZ(129,"input",42),e.qZA()()()()()()()()()),2&r&&(e.xp6(8),e.Q6J("formGroup",i.registrationForm),e.xp6(9),e.Q6J("ngClass",e.VKq(8,w,i.isSubmitted&&i.f.invitationCode.errors)),e.xp6(1),e.Q6J("ngIf",i.isSubmitted&&i.f.invitationCode.errors),e.xp6(12),e.Q6J("ngIf",i.isSubmitted&&i.f.userType.errors),e.xp6(11),e.Q6J("ngIf",i.isSubmitted&&i.f.userName.errors),e.xp6(6),e.Q6J("ngIf",i.isSubmitted&&i.f.GstNo.errors),e.xp6(15),e.Q6J("ngIf",i.isSubmitted&&i.f.companyName.errors),e.xp6(6),e.Q6J("ngIf",i.isSubmitted&&i.f.email.errors))},dependencies:[m.mk,m.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o._,o.JJ,o.JL,o.wO,o.nD,o.sg,o.u,o.x0]}),t})()}];let $=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.Bz.forChild(z),v.Bz]}),t})(),K=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,o.UX,$,d.sQ.forFeature(x)]}),t})()}}]);